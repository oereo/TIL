# MSA 개념 정리

## Section2 마이크로서비스란 무엇인가?
### MicroService 정의
- 애플리케이션이 `여러 개의 서비스 조각`으로 구성
- 서비스의 각 독립적인 기능 제공
- 서비스가 사용하는 저장소는 다른 서비스와 완벽히 격리
- 서비스의 독립적인 수정, 별도 배포, 확장
- 하나의 서비스 실패는 부분적인 실패를 의미

<br />

## Section3 마이크로서비스 성공을 위한 조건들
### 자동화
```text
소스 저장소  -  빌드  -  패키징  -  구성  -  테스트  -  배포  -  배포 환경
```

### 개발 프로세스
- 반복 / 점진적인 피드백 기반의 개발 프로세스

### 애플리케이션 설계 방식
- Polyglot Persistence 접근 방법 사용
- 서비스 별 데이터베이스 설계
  - 각 저장소 `분산 필수`
  - 다른 서비스 저장소 `호출 불가능`
  - `API`만 통하여 `접근` 가능
- 자동으로 테스트할 수 있는 환경 마련
- 실패 감지 및 대응을 위한 실시간 모니터링 
- 서킷 브레이크 패턴
  - 서비스 모니터링 중 서비스 다운 또는 `실패` 시 호출하는 서비스의 `연계 차단, 적절한 대응`을 위해 만듦

<br />

## Section5 아키텍처란 무엇인가?
### 아키텍처 개념과 레이어드 아키텍처
#### 레이어드 아키텍처
- 사실상 표준 아키텍처
- 관심사의 분리
- 기술 분할
- 레이어 개발/폐쇄 여부
  - Presentation, business, persistence, database
- 아키텍처 싱크홀 안티 패턴
- 익숙하고 단순, 소규모, 비용

#### 파이프라인 아키텍처 스타일
- pipes and filters
- Bash, Zsh 등 유닉스 터미널 쉘 언어의 기초 원리
- 필터
  - Producer : 프로세스 시작점, 소스
  - Transformer : 입력을 받아 일부 또는 전체를 변환한 후 전달, map
  - Tester: 기준에 따라 테스트, 결과 생산, reduce
  - Consumer: 흐름 종착역, 데이터베이스 저장, 화면 출
- 단방향, 단순, 조합 가능
- EDI, ETL 도구(추출, 변환, 적

#### 마이크로 커널 아키텍처 스타일
- MicroKernel, 플러그인(plug-in) 아키텍처
- 제품기반 애플리케이션에 적합
- 코어 시스템, 플러그인 컴포넌트
- ex) 이클립스 IDE, 젠킨


### 이벤트 기반 아키텍처 스타일
- 확장성이 뛰어난 고성능 애플리케이션 개발에 널리 쓰이는 비동기 분산 아키텍처
- 브로커 토폴로지
- RabbitMQ, ActiveMQ 등 경량 메시지 브로커
- 장점 : 성능, 응답성, 확장성
- 단점: 
  - 트랜잭션 통제
  - 교착 상태, 데이터비일관성
  - 에러 처리 어려

### MSA 패턴
#### 애플리케이션 관련
- 저장소 격리
- 동기 통신
- API 조합
- Micro Frontend
- 비동기 통신
- SAGA
- CQRS
- Event Sourcing

#### 플랫폼 관련
- 라우팅/로드 밸런스
- 서비스 디스커버리
- 인증 / 인가
- Config
- BFF
- API 게이트웨이
- 서킷 브레이크
- 로깅
- 추적
- 모니터링
- 서비스 메시

#### 인프라 관련
- DevOps 인프라
- 가상 머신
- 컨테이너
- 컨테이너 오케스트레이션